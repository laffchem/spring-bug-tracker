<html
        xmlns:th="http://www.thymeleaf.org"
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        layout:decorate="~{layout}">
<head>
    <title>Register</title>
</head>
<section layout:fragment="body">
    <div th:if="${param.fail}" class="alert alert-danger alert-dismissible fade show">
        Username or email already exists
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    <div class="w-50 mx-auto my-5" th:fragment="register">
        <form method="post" role="form" th:action="@{/register/save}" th:object="${user}">
            <h1 class="h3 mb-3 fw-normal">Please sign up</h1>
            <div class="form-floating">
                <input type="text" class="form-control my-2" id="username" placeholder="Username"
                       th:field="*{username}">
                <label for="username">Username</label>
            </div>
            <div class="form-floating">
                <input type="email" class="form-control my-2" id="email" placeholder="name@example.com"
                       th:field="*{email}">
                <label for="email">Email address</label>
            </div>
            <div class="form-floating">
                <input type="password" class="form-control my-2" id="floatingPassword" placeholder="Password"
                       th:field="*{password}">
                <label for="floatingPassword">Password</label>
            </div>
            <p th:if="${#fields.hasErrors('password')}" class="text-danger"></p>
            <div class="d-flex justify-content-center gap-2">
                <a th:href="@{/login}" class="w-50 btn mx-auto btn-dark btn-lg" type="submit">Have an account? Login here
                </a>
                <button th:href="@{/register}" class="w-50 btn btn-secondary btn-lg" type="submit">Sign up
                </button>
            </div>
        </form>
    </div>
</section>
</html>